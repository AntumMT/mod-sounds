<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Sound Pack for Minetest</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
    <link rel="icon" href="https://www.minetest.net/media/icon.svg" type="image/png" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>Sounds <span style="font-size:12pt;">(v1.6)</span></h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Description">Description </a></li>
<li><a href="#Licensing">Licensing </a></li>
<li><a href="#Usage">Usage </a></li>
<li><a href="#Links">Links </a></li>
</ul>


<h2>Topics</h2>
<ul class="">
  <li><a href="../topics/api.html">api</a></li>
  <li><a href="../topics/node.html">node</a></li>
  <li><a href="../topics/groups.html">groups</a></li>
  <li><a href="../topics/animal_groups.html">animal_groups</a></li>
  <li><a href="../topics/creature_groups.html">creature_groups</a></li>
  <li><a href="../topics/node_groups.html">node_groups</a></li>
  <li><a href="../topics/weather_groups.html">weather_groups</a></li>
  <li><strong>README</strong></li>
</ul>

</div>

<div id="content">


<h2>Sound Pack for Minetest</h2>

<p><a name="Description"></a></p>
<h3>Description</h3>

<p>A <a href="http://minetest.net/">Minetest</a> mod that provides a set of free sounds &amp; methods. It is intended as a more universal method for adding sounds to games rather than depending on <a href="https://github.com/minetest/minetest\_game/tree/master/mods/default">MTG &amp; default</a> for sounds only.</p>

<p><img src="../screenshot.png" alt="icon" width="200" /></p>

<p><a name="Licensing"></a></p>
<h3>Licensing</h3>

<ul>
    <li>Code: <a href="LICENSE.txt">MIT</a></li>
    <li>Icon/Screenshot: <a href="https://openclipart.org/detail/260975">CC0</a></li>
    <li>Media: see following table</li>
</ul>

<h4>Sound file sources &amp; licensing:<a name="sources" /></h4>

<p>See <a href="https://github.com/AntumMT/mod-sounds/blob/v1.6/sources.md">sources.md</a></p>

<p><a name="Usage"></a></p>
<h3>Usage</h3>

<h4>Replacement for default</h4>

<p>If your mod depends on <em>default</em> for node sounds only, then you can easily switch to <em>sounds</em>. Simply add <em>default</em> &amp; <em>sounds</em> as optional dependencies in your <em>mod.conf</em>. <em>sounds</em> overrides methods used by <em>default</em> to its own. For example <em>default.node_sound_dirt_defaults</em>.</p>

<p>Example of overidden method:</p>

<pre>
<span class="keyword">function</span> sounds.node_dirt(tbl)
    tbl = tbl <span class="keyword">or</span> {}

    tbl.footstep = tbl.footstep <span class="keyword">or</span> {name=<span class="string">"sounds_dirt_step"</span>, gain=<span class="number">0.4</span>}
    tbl.dug = tbl.dug <span class="keyword">or</span> {name=<span class="string">"sounds_dirt_step"</span>, gain=<span class="number">1.0</span>}
    tbl.place = tbl.place <span class="keyword">or</span> {name=<span class="string">"sounds_node_place_soft"</span>, gain=<span class="number">1.0</span>}

    sounds.node(tbl)
    <span class="keyword">return</span> tbl
<span class="keyword">end</span>

default.node_sound_dirt_defaults = sounds.node_dirt
</pre>


<p>Example of setting node sounds:</p>

<pre>
minetest.register_node(<span class="string">"foo:bar"</span>, {
    description = <span class="string">"Foo Node"</span>,
    sounds = default.node_sound_stone_defaults() <span class="comment">-- this is the same as calling <code>sounds.node_stone()</code>
</span> ...
})
</pre>


<h4>Playing Sounds Manually</h4>

<p><code>SoundGroup</code> instances are objects for storing &amp; playing sounds. These objects can be called to play a sound from their group. An index can be specified when called to determine which sound to play. If the index parameter is omitted, a random sound will be picked. A table of arguments can also be passed. This is compatible with <a href="https://minetest.gitlab.io/minetest/sounds/#simplesoundspec">SimpleSoundSpec</a>.</p>

<p>Creating <code>SoundGroup</code> objects:</p>

<pre>
<span class="keyword">local</span> s_group1 = SoundGroup({<span class="string">"sound1"</span>, <span class="string">"sound2"</span>})
<span class="keyword">local</span> s_group2 = SoundGroup({<span class="string">"sound3"</span>, <span class="string">"sound4"</span>, <span class="string">"sound5"</span>})

<span class="comment">-- SoundGroup objects can be concatenated with the arithmetic operator
</span><span class="keyword">local</span> s_group3 = s_group1 + s_group2

<span class="comment">-- to prevent sound file names from being prefixed with "sounds_" when played, the <code>no_prepend</code> field must be set to <code>true</code>
</span>s_group1(<span class="number">2</span>) <span class="comment">-- plays "sounds_sound2"
</span>
s_group1.no_prepend = <span class="keyword">true</span>
s_group1(<span class="number">2</span>) <span class="comment">-- plays "sound2"</span>
</pre>


<p>There are many <a href="https://antummt.github.io/mod-sounds/reference/latest/topics/groups.html">pre-defined sound groups</a>.</p>

<p>Calling a <code>SoundGroup</code> object:</p>

<pre>
<span class="comment">-- play random sound from group
</span>sounds.horse_neigh()

<span class="comment">-- play specific sound from group
</span>sounds.horse_neigh(<span class="number">2</span>)

<span class="comment">-- play random sound from group with parameters
</span>sounds.horse_neigh({gain=<span class="number">1.0</span>})

<span class="comment">-- play specific sound from group with parameters
</span>sounds.horse_neigh(<span class="number">2</span>, {gain=<span class="number">1.0</span>})

<span class="comment">-- the <code>play</code> method is the same as calling the object directly
</span>sounds.horse_neigh:play(<span class="number">2</span>, {gain=<span class="number">1.0</span>})
</pre>


<h4>Node Sounds</h4>

<p><code>SoundGroup</code> objects can also be used in node registration:</p>

<pre>
minetest.register_node(<span class="string">"foo:bar"</span>, {
    description = <span class="string">"Foo Node"</span>,
    sounds = {
        dig = sounds.cow_moo, <span class="comment">-- a random sound from the <code>sounds.cow_moo</code> group will be played when digging this node
</span> },
    ...
</pre>


<p>Currently using <code>SoundGroup</code> for node sounds only works for "dig", "dug", &amp; "place".</p>

<p><code>SoundGroup</code> objects are tables &amp; are indexed by integer. But using the <code>get</code> method is more reliable as it will return the string name with "sounds_" prefix if <code>no_prepend</code> isn't set:</p>

<pre>
<span class="keyword">local</span> s_group1 = SoundGroup({<span class="string">"sound1"</span>, <span class="string">"sound2"</span>})
<span class="keyword">local</span> s1 = s_group1:get(<span class="number">1</span>) <span class="comment">-- returns "sounds_sound1"
</span><span class="keyword">local</span> s2 = s_group1[<span class="number">2</span>] <span class="comment">-- returns "sound2"
</span>
<span class="keyword">local</span> s_group2 = SoundGroup({<span class="string">"sound3"</span>, <span class="string">"sound4"</span>, no_prepend=<span class="keyword">true</span>})
<span class="keyword">local</span> s3 = s_group2:get(<span class="number">1</span>) <span class="comment">-- returns "sound3"
</span><span class="keyword">local</span> s4 = s_group2[<span class="number">2</span>] <span class="comment">-- returns "sound4"</span>
</pre>


<p>The built-in <a href="https://www.lua.org/manual/5.1/manual.html#pdf-type">type</a> function can be used to check for a <code>SoundGroup</code> instance:</p>

<pre>
<span class="keyword">if</span> <span class="global">type</span>(s_group1) == <span class="string">"SoundGroup"</span> <span class="keyword">then</span>
    s_group1()
<span class="keyword">end</span>
</pre>


<p><a name="Links"></a></p>
<h3>Links</h3>

<ul>
    <li><a href="https://content.minetest.net/packages/AntumDeluge/sounds/"><img src="https://content.minetest.net/packages/AntumDeluge/sounds/shields/title/" alt="ContentDB"/></a></li>
    <li><a href="https://forum.minetest.net/viewtopic.php?t=26868">Forum</a></li>
    <li><a href="https://github.com/AntumMT/mod-sounds">Git repo</a></li>
    <li><a href="https://antummt.github.io/mod-sounds/reference/">Reference</a></li>
    <li><a href="changelog.txt">Changelog</a></li>
    <li><a href="TODO.txt">TODO</a></li>
</ul>








</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/AntumDeluge/LDoc/tree/custom">LDoc 1.4.6-antum-dev</a></i>
<i style="float:right;">Last updated 2021-09-13 08:53:23 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
